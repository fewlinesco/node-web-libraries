# CHANGELOG

## 0.8.0 - 2021-02-03

- Added a new util function (`deleteServerSideCookie`) to delete server side cookie.

## 0.7.0 - 2021-01-28

- Added three new util functions to handle server side cookies:
  - `setServerSideCookies(response, cookieName, value, options)` to set a cookie,
  - `getServerSideCookies(request, params)` to retrieve a cookie,
  - `setAlertMessagesCookie(response, value)` to set Alert Messages.

## 0.6.2 - 2021-01-07

- Improved `getServerSidePropsWithMiddlewares` typing to allow passing middlewares that leverage custom Request and Response types as argument.
- Improved `Endpoint` typing to allow passing middlewares that leverage custom Request and Response types as argument.

### Bump of dependencies

#### Web

##### Patches

```sh
  qs                      ~9mo     6.9.4  →     6.9.6   ~7d
  @types/express  dev     ~2mo    4.17.9  →   4.17.11   ~8d
  @types/jest     dev     ~1mo   26.0.19  →   26.0.20  ~14d
  @types/node     dev     ~16d  14.14.20  →  14.14.22   ~1d
  @types/send     dev    ~1.4y    0.14.5  →    0.14.6   ~3d
  next            dev     ~30d    10.0.4  →    10.0.5  ~14d
```

##### Minor

```sh
  qs                      ~9mo     6.9.4  →     6.9.6   ~7d
  @types/express  dev     ~2mo    4.17.9  →   4.17.11   ~8d
  @types/jest     dev     ~1mo   26.0.19  →   26.0.20  ~14d
  @types/node     dev     ~16d  14.14.20  →  14.14.22   ~1d
  @types/send     dev    ~1.4y    0.14.5  →    0.14.6   ~3d
  next            dev     ~30d    10.0.4  →    10.0.5  ~14d
```

##### Major

```sh
 @fwl/tracing      ~17d  0.6.1  →  0.7.0  ~7d
```

#### Next example

##### Major

```sh
 @fwl/tracing      ~17d  0.6.1  →  0.7.0  ~7d
```

## 0.6.1 - 2021-01-07

- Fix `parseBodyAsJson` generic type assertion. It now allows to be parameterized with any interface.

## 0.6.0 - 2021-01-07

- Fix `convertMiddleware` to allow it to throw back an error if an error occurs in the encapsulated Handlers.
- `convertMiddleware` now takes a tracer as a first argument, to allow for a span to be created for it.

## 0.5.3 - 2021-01-06

- Fix types of `convertMiddleware` to allow Express' `Request` and `Response` types.

## 0.5.2 - 2021-01-06

- Bump dependencies

## 0.5.1 - 2021-01-05

- Fix some things in the previous version and removes the 0.5.0 from npm.

## 0.5.0 - 2021-01-04

- Complete rework of the framework, this version is a total breaking change. Please read the documentation to see the changes.

## 0.4.1 - 2020-08-11

- Headers are now sent with redirects

## 0.4.0 - 2020-08-11

- `createApp` now requires a `Router[]` argument instead of a `Router`

## 0.3.0 - 2020-08-06

- Fix: Router Types were not exported correctly

## 0.2.0 - 2020-08-04

- `ResolveFunction` now accept 4 arguments: an HTTP status code, some data, a headers object and options.
  - This allows for redirects using 301, 302, 307 or 308 status code with the redirect URI as the second parameter.
  - This allows for sending files by setting `{ file: true }` as the options fourth argument.
- `router.get` can now be used without a Generic Type if you have no Query Parameter to deal with (or with `router.get<EmptyParams>`).
- A route with POST, PATCH, PUT or DELETE can use `EmptyBody` as its second Generic if you have no Body.

## 0.1.0 - 2020-08-03

- Package renamed from `@fewlines/fwl-web` to `@fwl/web`.
- `UnamangedError` takes an `Error` as first argument to be able to display the error mesage in the logging middleware.
- `NotFoundError` and `BadRequestError` takes an option `Error` second argument to display the error message in the logging middleware.

## 2.0.3 - 2020-07-27

- The `createApp` router argument is now typed as `Router`.
- `GetUsersByIdParams` has been temporary typed as `any` to prevent `ESLint` error.

## 2.0.2 - 2020-06-30

- Fixed custom router's `delete` method to call the right express method.

## 2.0.1 - 2020-06-17

- Added `traceid` to the logs generated by the logging middleware.

## 2.0.0 - 2020-05-13

- Removed `Params` from the exported types of Router.
- Separated Query String and Named Parameters from the Body (hence a "GET" handler has a different signature).
- Routes must now type what they will receive as params (one type for "GET" routes, two types for the others).

## 1.0.0 - 2020-04-16

- Created the package @fewlines/fwl-web:
  - Router
  - Logging Middleware
  - Http Statuses
  - Errors
